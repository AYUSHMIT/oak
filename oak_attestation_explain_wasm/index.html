<!doctype html>
<html>
  <head>
    <title>Oak Attestation Explanation</title>
    <meta charset="UTF-8" />
    <script type="module">
      // For now we're just hardcoding the evidence.
      const ENCODED_EVIDENCE =
        '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';

      import init, { explain } from './oak_attestation_explain_wasm.js';

      // Function to decode Base64 to bytes
      function decodeBase64(base64) {
        const binaryString = atob(base64);
        const bytes = new Uint8Array(binaryString.length);
        for (let i = 0; i < binaryString.length; i++) {
          bytes[i] = binaryString.charCodeAt(i);
        }
        return bytes;
      }

      // Function to explain attestation
      async function explainAttestation(attestationBytes) {
        await init();
        const explanation = explain(decodeBase64(attestationBytes));
        document.getElementById('explanation').textContent = explanation;
      }

      window.onload = () => {
        explainAttestation(ENCODED_EVIDENCE);
      };
    </script>
  </head>

  <body>
    <pre id="explanation">verifying attestation evidence...</pre>
  </body>
</html>
